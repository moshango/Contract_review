# 06_规则配置

## ⚙️ 规则审查配置和优化

本目录包含规则配置、优化建议、最佳实践和集成指南。共 **17 份文档**。

### 📄 文档分类

#### 核心规则文档（3份）
1. **01_关键词优化最佳实践.md** - 关键词配置的最佳实践指南
2. **02_规则匹配逻辑说明.md** - 规则匹配的原理和逻辑
3. **03_规则审查模块接口说明.md** - 规则审查模块的接口定义

#### Qwen 配置和实现（4份）
4. **04_Qwen配置更新.md** - Qwen 配置的最新更新
5. **05_Qwen配置测试.md** - Qwen 配置测试指南
6. **06_Qwen实现完成.md** - Qwen 实现完成报告
7. **07_QwenParseResultId最终修复.md** - Qwen ParseResultId 最终修复

#### 关键词优化相关（3份）
8. **08_关键词优化实战指南.md** - 关键词优化的实战指南
9. **09_关键词匹配问题修复.md** - 关键词匹配问题的修复
10. **10_规则优化完整执行总结.md** - 规则优化完整执行总结

#### 规则优化和配置（4份）
11. **11_规则优化执行报告.md** - 规则优化执行报告
12. **12_规则优化详细操作步骤.md** - 规则优化详细操作步骤
13. **13_审查设置与立场配置.md** - 审查设置与立场配置
14. **其他配置文档** - 包含各种规则配置

#### API 和集成指南（3份）
15. **API_REVIEW_GUIDE.md** - API 审查功能集成指南
16. **RULE_REVIEW_GUIDE.md** - 规则审查功能使用指南
17. **RULE_REVIEW_INTEGRATION_GUIDE.md** - 规则审查的完整集成指南

---

## 🎯 快速开始

### 我要配置规则
→ [`01_关键词优化最佳实践.md`](01_关键词优化最佳实践.md)

**基本步骤**：
1. 定义关键词列表
2. 配置匹配规则
3. 设置优先级和权重
4. 测试和验证

### 我要了解规则如何工作
→ [`02_规则匹配逻辑说明.md`](02_规则匹配逻辑说明.md)

**核心概念**：
- 规则的定义和分类
- 关键词匹配算法
- 优先级处理
- 权重计算

### 我要调用规则审查 API
→ [`API_REVIEW_GUIDE.md`](API_REVIEW_GUIDE.md) 或 [`RULE_REVIEW_GUIDE.md`](RULE_REVIEW_GUIDE.md)

**基本流程**：
1. 准备合同数据
2. 调用规则审查接口
3. 处理返回结果

### 我要集成规则审查功能
→ [`RULE_REVIEW_INTEGRATION_GUIDE.md`](RULE_REVIEW_INTEGRATION_GUIDE.md)

**集成步骤**：
1. 导入规则模块
2. 配置规则参数
3. 集成到业务流程
4. 测试验证

---

## 📋 规则类型

### 内置规则
系统提供的预定义规则，包括：
- 基本条款检查
- 风险条款识别
- 标准流程验证

### 自定义规则
用户可创建的规则：
- 根据公司政策的规则
- 行业特定的规则
- 特定合同类型的规则

### 优先级规则
根据优先级处理：
- 高优先级规则优先匹配
- 低优先级规则作为后补

---

## ⚡ 常用配置

### 关键词匹配模式

| 模式 | 说明 | 用途 |
|-----|------|------|
| 精确匹配 | 完全相同才匹配 | 标准条款 |
| 模糊匹配 | 包含关键词即匹配 | 通用条款 |
| 正则匹配 | 按正则表达式匹配 | 复杂模式 |

### 权重配置

| 级别 | 权重 | 说明 |
|-----|------|------|
| 高 | 1.0-0.8 | 重点关注的规则 |
| 中 | 0.7-0.5 | 常规规则 |
| 低 | 0.4-0.1 | 参考规则 |

---

## 🔍 规则调试

### 检查规则是否生效
```
1. 启用 DEBUG 日志
2. 查看规则匹配的日志输出
3. 验证匹配结果
```

### 常见配置错误
| 错误 | 症状 | 解决方案 |
|-----|------|--------|
| 关键词为空 | 规则无法匹配 | 检查关键词配置 |
| 优先级设置错误 | 规则顺序不对 | 调整优先级 |
| 权重过小 | 规则被忽视 | 增加权重 |

---

## 📊 规则效果评估

### 匹配率
```
匹配率 = 规则匹配条数 / 应该匹配条数
```
目标：> 90%

### 准确率
```
准确率 = 正确匹配数 / 总匹配数
```
目标：> 95%

### 覆盖率
```
覆盖率 = 被规则覆盖的问题数 / 总问题数
```
目标：> 85%

---

## 🚀 最佳实践

### 1. 规则设计
- ✅ 使用清晰的关键词
- ✅ 避免过于复杂的规则
- ✅ 定期审查和优化规则
- ❌ 不要创建重复的规则

### 2. 优先级管理
- ✅ 按重要性排序
- ✅ 高优先级放在前面
- ✅ 定期审查优先级
- ❌ 不要设置过多优先级

### 3. 性能优化
- ✅ 使用索引加快匹配
- ✅ 缓存常用规则
- ✅ 定期清理过期规则
- ❌ 不要在规则中做复杂计算

### 4. 维护管理
- ✅ 保存规则版本
- ✅ 记录规则更改
- ✅ 定期测试新规则
- ❌ 不要直接修改生产规则

---

## 📈 规则优化流程

```
1. 基线测试
   ↓
2. 分析匹配结果
   ↓
3. 调整规则
   ↓
4. 再次测试
   ↓
5. 评估效果
   ↓
6. 部署上线
```

---

## 📚 相关文档

- **API 接口** → [`../01_API接口说明/02_Qwen规则审查API参考.md`](../01_API接口说明/02_Qwen规则审查API参考.md)
- **快速参考** → [`../05_快速参考/`](../05_快速参考/)
- **实现细节** → [`../02_实现和修复总结/`](../02_实现和修复总结/)

---

## 💡 提示

- 在配置规则前，先阅读 [`02_规则匹配逻辑说明.md`](02_规则匹配逻辑说明.md)
- 新增规则后，先在测试环境验证
- 定期备份规则配置
- 保持规则文档的及时更新

---

**返回**：[📚 文档中心主页](../README.md)
