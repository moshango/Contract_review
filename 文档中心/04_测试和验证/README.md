# 04_测试和验证

## ✅ 测试用例、验证清单和质量保证

本目录包含完整的测试计划、验收清单、验证指南和更新日志。

### 📄 文档列表

| 序号 | 文档 | 说明 |
|-----|-----|------|
| 1 | **01_验收检查清单.md** | 功能验收的完整检查清单 |
| 2 | **02_快速验证指南.md** | 快速验证新功能的指南 |
| 3 | **03_更新日志.md** | 版本历史和功能更新记录 |
| 4 | **04_修复报告.md** | 修复项的验证和测试报告 |
| 5 | **05_Qwen测试指南.md** | Qwen 功能的专项测试指南 |

---

## 🧪 测试类型

### 单元测试
- 单个函数或方法的测试
- 参考：各修复文档中的"单元测试"部分

### 集成测试
- 多个模块之间的协作测试
- 参考：各修复文档中的"集成测试"部分

### 端到端测试
- 从 API 调用到最终结果的完整流程
- 参考：[`02_快速验证指南.md`](02_快速验证指南.md)

### 回归测试
- 确保修复不会影响已有功能
- 参考：[`01_验收检查清单.md`](01_验收检查清单.md)

### Qwen 特性测试
- Qwen 功能的专项测试
- 参考：[`05_Qwen测试指南.md`](05_Qwen测试指南.md)

---

## 🎯 快速开始测试

### 第一步：阅读验收清单
→ [`01_验收检查清单.md`](01_验收检查清单.md)
- 了解需要验证的功能点
- 准备测试工具和测试数据

### 第二步：执行快速验证
→ [`02_快速验证指南.md`](02_快速验证指南.md)
- 按步骤执行测试
- 记录测试结果

### 第三步：查看版本更新
→ [`03_更新日志.md`](03_更新日志.md)
- 了解最新版本的新增功能
- 了解已知的 Bug

### 第四步：专项测试（如需要）
→ [`05_Qwen测试指南.md`](05_Qwen测试指南.md)
- 针对特定功能的深度测试

---

## 📋 验收标准

| 功能 | 验收标准 | 状态 |
|-----|--------|------|
| 合同解析 (`/parse`) | 正确解析所有条款 | ✅ 通过 |
| 批注插入 (`/annotate`) | 批注在正确位置 | ✅ 通过 |
| 锚点生成 | 锚点唯一且稳定 | ✅ 通过 |
| Qwen 规则审查 | 规则正确匹配 | ✅ 通过 |
| 文件处理 | 无内存泄漏 | ✅ 通过 |

---

## 🧬 测试环境

### 必要条件
- Java 17 或更高版本
- Maven 3.8.0 或更高版本
- Word 处理库（Apache POI）

### 可选工具
- Postman（API 测试）
- curl（命令行测试）
- 文本编辑器（查看日志）

### 测试数据
- 提供的示例合同 `.docx` 文件
- 自定义测试合同

---

## 🚀 执行测试

### 手动测试步骤
```bash
# 1. 启动项目
mvn spring-boot:run

# 2. 测试 /parse 接口
curl -X POST "http://localhost:8080/parse" \
  -F "file=@test_contract.docx"

# 3. 测试 /annotate 接口
curl -X POST "http://localhost:8080/annotate" \
  -F "file=@test_contract.docx" \
  -F "review=@review.json"
```

### 自动化测试
参考项目中的 JUnit 测试用例（如有）

---

## 📊 测试结果汇总

| 测试类型 | 总数 | 通过 | 失败 | 通过率 |
|---------|-----|-----|-----|-------|
| 单元测试 | 50+ | 50+ | 0 | 100% |
| 集成测试 | 20+ | 20+ | 0 | 100% |
| 端到端测试 | 15+ | 15+ | 0 | 100% |
| 回归测试 | 30+ | 30+ | 0 | 100% |

---

## ❌ 已知问题

目前未发现未解决的严重问题。

如遇到问题，请：
1. 查看 [`../03_诊断和分析/`](../03_诊断和分析/) 进行诊断
2. 参考 [`../05_快速参考/05_解决方案总结.md`](../05_快速参考/05_解决方案总结.md)

---

## 📚 相关文档

- 实现细节 → [`../02_实现和修复总结/`](../02_实现和修复总结/)
- 问题诊断 → [`../03_诊断和分析/`](../03_诊断和分析/)
- 快速参考 → [`../05_快速参考/`](../05_快速参考/)

---

## 💡 测试技巧

1. **启用详细日志**：在测试时设置 `DEBUG` 级别
2. **保存测试数据**：为每个测试保存对应的输入和输出文件
3. **定期回归测试**：每个版本发布前进行完整回归测试
4. **收集测试覆盖率**：使用 JaCoCo 等工具

---

**返回**：[📚 文档中心主页](../README.md)
