# AI 合同审查系统 - 文档库

> **完整的系统说明文档、API 接口指南、集成指南和常见问题解答**

## 📚 快速导航

### 🎯 我是...

- **API 调用者** → 先看 [规则审查模块接口说明](规则审查模块接口说明.md)
- **后端开发者** → 先看 [系统架构设计](系统架构设计.md)
- **前端开发者** → 先看 [前端集成指南](前端集成指南.md)
- **产品经理** → 先看 [使用示例](使用示例.md)
- **初学者** → 先看 [文档中心](文档中心.md)

---

## 📋 文档清单

### 核心说明文档（必读）

| 文档 | 说明 | 阅读时间 |
|------|------|--------|
| [文档中心](文档中心.md) | 📖 **文档导航和学习路径** | 10分钟 |
| [规则审查模块接口说明](规则审查模块接口说明.md) | 🔑 **规则匹配和Prompt生成** | 25分钟 |
| [API接口总体说明](API接口总体说明.md) | 📡 **所有REST接口总览** | 15分钟 |

### 接口文档（按需阅读）

| 文档 | 覆盖接口 | 阅读时间 |
|------|--------|--------|
| [合同解析接口说明](合同解析接口说明.md) | `/parse` | 15分钟 |
| [批注接口说明](批注接口说明.md) | `/annotate`, `/chatgpt/import-result` | 20分钟 |
| [审查设置与立场配置](审查设置与立场配置.md) | `/api/review/settings`, 立场过滤 | 20分钟 |

### 深度理解（开发者必读）

| 文档 | 内容 | 阅读时间 |
|------|------|--------|
| [系统架构设计](系统架构设计.md) | 整体架构、模块设计、数据流 | 30分钟 |
| [数据模型说明](数据模型说明.md) | Clause, ReviewRule, ReviewIssue 等 | 20分钟 |
| [锚点机制说明](锚点机制说明.md) | anchorId 格式、生成和定位 | 25分钟 |
| [批注系统设计](批注系统设计.md) | XML批注、精确匹配、插入策略 | 25分钟 |
| [规则匹配引擎](规则匹配引擎.md) | 关键字匹配、正则匹配、风险等级 | 20分钟 |

### 集成和使用

| 文档 | 适用对象 | 阅读时间 |
|------|--------|--------|
| [使用示例](使用示例.md) | 所有人员 | 15分钟 |
| [前端集成指南](前端集成指南.md) | 前端开发者 | 30分钟 |
| [后端扩展指南](后端扩展指南.md) | 后端开发者 | 30分钟 |
| [常见问题FAQ](常见问题FAQ.md) | 所有人员 | 10分钟 |

### 项目文档

| 文档 | 说明 | 位置 |
|------|------|------|
| [项目开发指南](../CLAUDE.md) | 项目概述、技术栈、模块说明 | 项目根目录 |
| [文档归档索引](文档归档索引.md) | 所有文档的分类索引和查找指南 | docs/ |

### 归档文档（参考资料）

| 文档夹 | 说明 | 文件数 |
|--------|------|--------|
| [诊断报告](诊断报告/) | 系统开发过程中的问题诊断和分析 | 3个 |
| [修复总结](修复总结/) | 各个阶段的修复方案和完整总结 | 9个 |
| [集成指南](集成指南/) | API集成的详细指导和参考 | 3个 |

---

## 🚀 5分钟快速开始

### 1. 上传合同并执行规则审查
```bash
curl -X POST "http://localhost:8080/api/review/analyze" \
  -F "file=@contract.docx" \
  -F "contractType=采购合同"
```

### 2. 获取 Prompt 和分析结果
响应包含：
- `prompt` - 复制到 ChatGPT 的提示词
- `matchResults` - 匹配的条款和规则
- `parseResultId` - 用于后续批注的ID

### 3. 复制 Prompt 到 ChatGPT
```
您是一位资深的合同法律顾问。请根据以下信息对合同进行审查...
【合同信息】
【审查规则说明】
【高风险条款提示】
【需要审查的条款列表】
```

### 4. 获取 ChatGPT 审查结果
```json
{
  "issues": [
    {
      "clauseId": "c1",
      "anchorId": "anc-c1-p2-8f3a",
      "severity": "HIGH",
      "finding": "支付条件不明确",
      "suggestion": "建议明确指定支付周期...",
      "targetText": "甲方应按时支付"
    }
  ]
}
```

### 5. 导入结果并生成批注
```bash
curl -X POST "http://localhost:8080/chatgpt/import-result?parseResultId=parse_xxx" \
  -F "result=@review_result.json" \
  -o annotated_contract.docx
```

---

## 📖 学习路径

### 🟢 初级（了解系统）- 45分钟
1. [文档中心](文档中心.md) - 了解文档结构
2. [规则审查模块接口说明](规则审查模块接口说明.md) - 理解核心接口
3. [使用示例](使用示例.md) - 看完整工作流

### 🟡 中级（能够集成）- 2小时
4. [合同解析接口说明](合同解析接口说明.md)
5. [批注接口说明](批注接口说明.md)
6. [前端集成指南](前端集成指南.md) 或 [后端扩展指南](后端扩展指南.md)

### 🔴 高级（深入理解）- 4小时
7. [系统架构设计](系统架构设计.md)
8. [数据模型说明](数据模型说明.md)
9. [锚点机制说明](锚点机制说明.md)
10. [批注系统设计](批注系统设计.md)
11. [规则匹配引擎](规则匹配引擎.md)

---

## 🔑 核心概念速查

| 概念 | 说明 | 文档 |
|------|------|------|
| **anchorId** | 锚点ID，精确定位批注位置 | [锚点机制说明](锚点机制说明.md) |
| **Prompt** | LLM审查的提示词，包含所有上下文 | [规则审查模块接口说明](规则审查模块接口说明.md) |
| **reviewIssue** | LLM返回的单个问题，含 anchorId | [数据模型说明](数据模型说明.md) |
| **规则匹配** | 关键字和正则表达式匹配条款 | [规则匹配引擎](规则匹配引擎.md) |
| **Word批注** | 右侧浮窗批注，精确到字符 | [批注系统设计](批注系统设计.md) |

---

## ❓ 我想...

| 需求 | 应该看 | 时间 |
|------|--------|------|
| 快速了解系统能做什么 | [规则审查模块接口说明](规则审查模块接口说明.md) | 25分钟 |
| 集成API到我的应用 | [前端集成指南](前端集成指南.md) 或 [后端扩展指南](后端扩展指南.md) | 30分钟 |
| 理解 anchorId 如何工作 | [锚点机制说明](锚点机制说明.md) | 25分钟 |
| 自定义审查规则 | [规则审查模块接口说明](规则审查模块接口说明.md) - rules.xlsx部分 | 10分钟 |
| 了解系统架构 | [系统架构设计](系统架构设计.md) | 30分钟 |
| 解决常见问题 | [常见问题FAQ](常见问题FAQ.md) | 10分钟 |
| 看完整的使用流程 | [使用示例](使用示例.md) | 15分钟 |

---

## 📊 文档统计

- **核心文档**：7 个
- **API文档**：4 个（1个完成，3个框架）
- **系统设计**：5 个（框架）
- **集成使用**：4 个（框架）
- **归档文档**：15 个（诊断3 + 修复9 + 指南3）
- **其他参考**：3 个
- **总文档数**：39 个
- **总字数**：约 225KB+
- **更新时间**：2025-10-23
- **文档版本**：2.0（加入档案索引）

---

## 🎯 文档质量

- ✅ **完整性**：覆盖所有主要功能和接口
- ✅ **准确性**：基于实际代码实现
- ✅ **可读性**：包含示例和图表
- ✅ **易用性**：导航清晰，查找方便

---

## 📝 如何使用本文档库

### 方法1：按角色查找
1. 进入 [文档中心](文档中心.md)
2. 找到您的角色（API调用者、开发者、PM等）
3. 按建议的学习路径阅读

### 方法2：按需求查找
1. 查看上面的"我想..."表格
2. 找到对应需求的文档
3. 直接阅读相关文档

### 方法3：按主题浏览
1. 从 [API接口总体说明](API接口总体说明.md) 开始
2. 逐个查看各接口文档
3. 深入学习相关的机制文档

### 方法4：遇到问题
1. 先查看 [常见问题FAQ](常见问题FAQ.md)
2. 搜索关键词找到相关文档
3. 如果仍未解决，提交 Issue

---

## 🔗 文档间的导航

所有文档都使用超链接相互连接，可以：
- 点击"详见：[文档名]"跳转到相关文档
- 使用 Ctrl+F 搜索文档中的关键词
- 查看文档中的"相关文档"部分获取推荐

---

## 📚 相关资源

| 资源 | 说明 | 链接 |
|------|------|------|
| 项目仓库 | GitHub 仓库 | - |
| Issue 跟踪 | 报告问题和建议 | - |
| 更新日志 | 版本更新记录 | [CHANGELOG.md](../CHANGELOG.md) |

---

## 👥 文档维护

**维护团队**：AI合同审查系统开发组

**最后更新**：2025-10-23

**版本**：1.0

---

## 💡 反馈和建议

如果您发现文档有问题或有改进建议：

1. **发现错误** → 立即修正并提交 PR
2. **内容建议** → 提交 Issue 描述建议
3. **新增章节** → 联系维护团队讨论

---

## 📌 重要提示

- 本文档假设您已安装 Java 17+ 和 Spring Boot 3.5.6
- 所有示例都基于当前版本（1.0）
- API 端点可能因配置而异（如端口号）
- 建议收藏本文档库，以便快速查阅

---

**开始阅读：[文档中心](文档中心.md)** →

